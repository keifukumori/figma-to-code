# Claude Code 並列処理設定ファイル

> **注意**: このファイルは `CLAUDE.md` の派生ドキュメントです。
> 並列処理機能は現在**停止中**のため、このファイルの内容は適用されません。
> 再開する場合は、このファイルの内容を参照してください。

---

## 並列処理コマンド（停止中）

### 並列処理
```
auto-figma-parallel: {BASE_DIRECTORY} --sections=3
```
例: `auto-figma-parallel: output/myproject --sections=3`

これで同時3セクション並列処理を実行

### 全セクション一括処理
```
auto-figma-all: {BASE_DIRECTORY}
```
例: `auto-figma-all: output/myproject`

これで配下の全セクションを自動検出・並列処理

---

## 並列制御オプション

```
auto-figma-parallel: {DIRECTORY} --max-concurrent=5 --batch-size=3
```

---

## エイリアス定義（並列用）

```
ap: output/myproject --parallel
aa: output/myproject --all
```

---

## 複数セクション処理時の注意事項

### 重要な制約

複数セクションがある場合、**同時処理は品質低下を招く**。以下の理由による：

| 項目 | 1セクション処理 | 複数セクション同時処理 |
|------|----------------|----------------------|
| キャプチャ確認 | 1枚を詳細に確認 | 複数枚で注意が分散 |
| JSON読み込み | 数百行を精読可能 | 数千行で全部は読めない |
| 1対1マッピング検証 | 全要素を検証可能 | 主要要素のみになりがち |
| 品質スコア | 95%以上達成可能 | 70-80%程度に低下 |

### 正しいワークフロー（必須）

```
❌ 間違い: 複数セクションを同時に処理
セクションA,B,C → 同時生成 → 検証なし → 統合

✅ 正しい: セクション単位で完結させてから統合
セクションA → 生成 → 1対1検証 ✅ → 完了
     ↓
セクションB → 生成 → 1対1検証 ✅ → 完了
     ↓
セクションC → 生成 → 1対1検証 ✅ → 完了
     ↓
最終統合（HTMLを結合するだけ）
```

### 理由

- **キャプチャ画像**: セクションごとに別ファイルなので、同時に比較検証できない
- **JSONデータ**: セクションごとに独立しており、統合すると膨大になり1対1チェック不可能
- **品質検証プロセス**: CLAUDE.mdの検証フローは「1セクション = 1キャプチャ = 1JSON」を前提に設計

---

## 統合時のルール

各セクションの検証が完了したら、以下の方法で統合：

1. **HTMLの統合**
   ```html
   <div class="app-container">
     @@include('_includes/section-a.html')
   </div>
   <div class="app-container">
     @@include('_includes/section-b.html')
   </div>
   ```

2. **SCSSの統合**（style.scss）
   ```scss
   @import 'base';
   @import 'section-a';  // 検証済み
   @import 'section-b';  // 検証済み
   @import 'section-c';  // 検証済み
   ```

3. **統合時の注意**
   - 各セクションのCSSは独立したクラス名（`.section-a`, `.section-b`等）でスコープ化済み
   - `position: fixed` は統合時に問題になるため、セクション内に収まるスタイルに変更済みであること
   - 統合後は全体の表示確認のみ（個別の品質検証は不要）

---

## 効率化指標（並列処理有効時）

- **処理時間**: 60%短縮 (並列処理)
- **注意**: 品質スコアは70-80%程度に低下する可能性あり
